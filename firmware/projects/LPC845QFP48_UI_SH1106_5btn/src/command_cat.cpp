/*
 * SPDX-License-Identifier: MIT
 *
 * Copyright (c) 2026 Bart Bilos
 * For conditions of distribution and use, see LICENSE file
 */
/**
 * @file command_cat.cpp
 * @brief Blits a cat to the display
 */
#include <commands.hpp>
#include <application.hpp>
#include <libmcu/bitmap/bitmap_view.hpp>

std::array<const std::uint32_t, 384> bitmap_cat = {
  0x90884000, 0x228140a4, 0x4a8dba0f, 0x28440d2d, 0xaa229000, 0xcc2a0a0a, 0xa42b564e, 0x4514a28b, 0xa042b800, 0x88805009,
  0x64ca564f, 0x14040515, 0x0694d000, 0xe22a8424, 0xb8798f0e, 0x42a092a4, 0x94a8a800, 0xc4022080, 0x30a97c2f, 0x08a01204,
  0x02aa1800, 0xd1548a12, 0xba35ea4d, 0xa52a14a0, 0x1aa87000, 0x92292840, 0x78775a5f, 0x80642505, 0x21550800, 0xc044812a,
  0x5d2ef90b, 0x2aaa8040, 0x02b03800, 0xa9081400, 0xfd5bd822, 0x882a150a, 0x454a2800, 0xa4a2a2aa, 0x7d0bba92, 0x5145204a,
  0x00a02800, 0x40240080, 0xf72b3405, 0x421d4a90, 0x494a9800, 0xd5410208, 0xde90eda5, 0x8822a005, 0x00923000, 0x80082411,
  0xbf22d9a3, 0x114d0aa9, 0x11545000, 0xe4410040, 0x5b40af0a, 0x422a5005, 0x4228c000, 0xc0882002, 0x3b0bdb06, 0x14a042a8,
  0x00902000, 0x44010080, 0x87c1b74e, 0x6a011412, 0x5220c000, 0x08922404, 0x2e83ee8c, 0x48852150, 0x00290000, 0x40000000,
  0x83c9658c, 0x92108a88, 0x00018000, 0x02a44888, 0x15694d9c, 0xb6452a11, 0x89148000, 0x08011200, 0x04b8729a, 0x400a50a4,
  0x00008000, 0x01202400, 0x90b4e598, 0x9aa94a88, 0x02104000, 0x00025002, 0x041e2a94, 0x200a2222, 0x10212000, 0x14904080,
  0x281c2d98, 0x42a08884, 0x00000000, 0x02414408, 0x804796ce, 0x804a5252, 0x20881400, 0x00800000, 0x1a051adc, 0x94944200,
  0x04020400, 0x01214800, 0x4483abac, 0x01210852, 0x00100100, 0x05000080, 0x240b2dfc, 0x14244284, 0x80049100, 0x80248408,
  0x1101b7dc, 0x42911410, 0x08200080, 0x01400000, 0x8403f6b8, 0x48220152, 0x81012240, 0x02000948, 0x5108daad, 0x028912a8,
  0x080a4020, 0x08505bf4, 0x0501f554, 0x145022a8, 0x97a28220, 0x81017ffa, 0x10116aaa, 0x20848452, 0x3f449050, 0x0823fcde,
  0x45016248, 0x25100908, 0x97d16210, 0x2207eebc, 0x08445551, 0x88408052, 0x2f728410, 0x001ffdb4, 0x0200c882, 0x21090902,
  0x85d46848, 0xa82f1e4c, 0x49522528, 0x84a00028, 0x15fa8908, 0x003d3918, 0x00006441, 0x10822280, 0x015ea048, 0x503dfea6,
  0x84a55514, 0x42088008, 0x017fa488, 0x80f1ec8c, 0x10004040, 0x08500932, 0x20adc004, 0x006afd0c, 0xe8055514, 0x2104017f,
  0x017ba914, 0xa0d1da98, 0xf480a040, 0x441057ff, 0x0015f444, 0x00e27d0c, 0xff029508, 0x004107f6, 0x48775888, 0x81cafa38,
  0xdd084020, 0x29043f6f, 0x01122f24, 0x00d21a90, 0x67c11100, 0x80502fbe, 0x90425c44, 0x01d27430, 0x45802204, 0x2202bd54,
  0x4a494b92, 0x80740861, 0xe8700040, 0x88201d2f, 0x08820ba4, 0x01e941c5, 0xc1e00800, 0x2149792f, 0x5448a4f2, 0x00ff1f84,
  0xd4300000, 0x8af4144d, 0x800a05d4, 0x01daf809, 0xa2f01104, 0x11dd151f, 0x4a429172, 0x40680022, 0xd4780420, 0x42fa04a3,
  0x081e02a5, 0x0170408a, 0x41e80000, 0x55f21c17, 0x902a92ba, 0x00800224, 0xaa7c0924, 0x23e8034b, 0x117542e0, 0x44880041,
  0x02f81000, 0x4f60460b, 0x20d294aa, 0x002002ac, 0x55ee8240, 0x53e80382, 0xa3a29154, 0x00482d05, 0x475c1204, 0x57a08150,
  0x56954029, 0x11108258, 0x1d128800, 0x4fe000f5, 0x1402896b, 0x80122842, 0xe0320920, 0x7d4a081f, 0x4a12a0a9, 0x11008295,
  0x0802a004, 0xefe04000, 0xd04282a3, 0x80021025, 0x000a0520, 0xdf450800, 0x749548c8, 0x2a000494, 0x8012a48a, 0xfdb49350,
  0x92b39293, 0x68000092, 0x00240491, 0xf7112445, 0x7ffd48a2, 0x5e000007, 0x088a52ad, 0x5aa5a892, 0xf6b7ab86, 0xf800001b,
  0x512807d5, 0xad042292, 0x5dfc7d51, 0xaf000442, 0x4400057e, 0x93f09424, 0x5701eb43, 0xbc00400b, 0xa9402be9, 0x2644a2c9,
  0xba7f5549, 0x7c000004, 0x24000bb5, 0x8df60892, 0xb549550b, 0xe0000001, 0x490407f6, 0x9bec4a95, 0x34360aa5, 0xb0000000,
  0xa800017d, 0x253ba224, 0xe16cb507, 0xe0000105, 0x0000016a, 0x17632449, 0x1494940b, 0xa0008800, 0xa890001b, 0x2528d956,
  0xa0a95495, 0x60040000, 0x0001003f, 0x25429b68, 0x5516aa07, 0xc0000005, 0x5110000b, 0x132844ad, 0x5024a82f, 0x80000000,
  0x8200080f, 0xa4a495d2, 0x02a96a0e, 0xd2400800, 0x08000082, 0x01bd576a, 0xa542c85f, 0x88044152, 0x20110015, 0x0bf7ffd4,
  0x0a4a100d, 0xf100100a, 0x00842003, 0xa2dfb6b5, 0x514ac27f, 0x44200151, 0x0010015d, 0x0fbaf554, 0x242aa82d, 0xda810002,
  0x8a800003, 0x5355beba, 0x505680af, 0x52082908, 0x200012ae, 0x5757f7e5, 0x42851553, 0xeca24557, 0x00020015, 0xbeb6acba,
  0x0ab10175, 0xd9040a74, 0xc09022b5, 0xfad6d1a0, 0xa05412eb, 0xb7d0a515, 0x0500004b, 0x6d2e8a2b, 0x468005cb, 0x56b69129,
  0x1222449d, 0xd5281148, 0x782553a8, 0x495aaec7, 0x4d0810b5, 0x68004402, 0x51008b43, 0x092b7d56, 0x582125d2, 0x49528091,
  0xcc483674, 0xa096d6a9, 0xa0848aa8, 0xb6440a04, 0x00013d41, 0x0515b5bc, 0x85b096a0, 0xb448a840, 0x2884e795, 0x50456d5b,
  0x6b452a89, 0x6d02048a, 0x0001d680, 0x020955ba, 0x9aaa7410, 0xaa545a90, 0x41147971, 0x91556af5, 0x2dada944, 0x5e809222,
  0x042adac5, 0x92aaafd6, 0xab5da910, 0x32d51084, 0xa08fa714, 0x4b557b65, 0x12daa022, 0x4fa0825a, 0x017faaa3, 0xaadbdf50,
  0x56aba56a, 0x9b361012, 0x14f2d544, 0x6db77fe1, 0xa92a4955, 0xaa6d4244, 0x26fd55c9, 0xadfffaa4, 0x56aaaaaa, 0xa4d94a95,
  0x2f6abb21, 0xb76eef50, 0x552aab6d, 0xd29655a9};

squLib::results cat(std::span<const char>) {
  if (command_values.size() < 2) {
    command_console.print("2 arguments needed: x, y\n");
    return squLib::results::error;
  }
  std::int32_t x, y;
  command_values.pop(y);
  command_values.pop(x);
  libmcu::bitmap::Const_bitmap bitmap(bitmap_cat.data(), 128, 96, 1);
  ui_display.blit(x, y, bitmap);
  ui_display.flip();
  return squLib::results::ok;
}

squLib::commandHandler command_handler_cat{"cat", "Blits a cat to the screen on x,y\n", cat};
